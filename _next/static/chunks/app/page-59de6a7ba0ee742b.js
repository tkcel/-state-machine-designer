(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{41855:function(e,t,a){Promise.resolve().then(a.bind(a,17040))},17040:function(e,t,a){"use strict";a.d(t,{default:function(){return eg}});var s=a(57437),n=a(57818),r=a(2265),l=a(71538),i=a(12218),o=a(44839),c=a(96164);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,c.m6)((0,o.W)(t))}let m=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,t)=>{let{className:a,variant:n,size:r,asChild:i=!1,...o}=e,c=i?l.g7:"button";return(0,s.jsx)(c,{className:d(m({variant:n,size:r,className:a})),ref:t,...o})});u.displayName="Button";let x=r.forwardRef((e,t)=>{let{className:a,type:n,...r}=e;return(0,s.jsx)("input",{type:n,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});x.displayName="Input";var f=a(38364);let p=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(f.f,{ref:t,className:d(p(),a),...n})});h.displayName=f.f.displayName;var g=a(49444),j=a(42421),v=a(14392),N=a(22468);let b=g.fC;g.ZA;let y=g.B4,w=r.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(g.xz,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[n,(0,s.jsx)(g.JO,{asChild:!0,children:(0,s.jsx)(j.Z,{className:"h-4 w-4 opacity-50"})})]})});w.displayName=g.xz.displayName;let C=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.u_,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})});C.displayName=g.u_.displayName;let S=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.$G,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...n,children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})})});S.displayName=g.$G.displayName;let k=r.forwardRef((e,t)=>{let{className:a,children:n,position:r="popper",...l}=e;return(0,s.jsx)(g.h_,{children:(0,s.jsxs)(g.VY,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...l,children:[(0,s.jsx)(C,{}),(0,s.jsx)(g.l_,{className:d("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(S,{})]})})});k.displayName=g.VY.displayName,r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.__,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n})}).displayName=g.__.displayName;let R=r.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(g.ck,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.wU,{children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(g.eT,{children:n})]})});R.displayName=g.ck.displayName,r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(g.Z0,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=g.Z0.displayName;let Z=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});Z.displayName="Textarea";var _=a(13304),T=a(74697);let z=_.fC,D=_.xz,E=_.h_;_.x8;let O=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(_.aV,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});O.displayName=_.aV.displayName;let V=r.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(E,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)(_.VY,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[n,(0,s.jsxs)(_.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(T.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});V.displayName=_.VY.displayName;let M=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};M.displayName="DialogHeader";let A=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};A.displayName="DialogFooter";let I=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(_.Dx,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a),...n})});I.displayName=_.Dx.displayName;let F=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(_.dk,{ref:t,className:d("text-sm text-muted-foreground",a),...n})});F.displayName=_.dk.displayName;var P=a(44025),U=a(92508),G=a(66706),Y=a(9768),H=a(18422),$=a(10883),B=a(71976),W=a(6884),J=a(69324);let L=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(J.fC,{ref:t,className:d("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...n,children:(0,s.jsx)(J.z$,{className:d("flex items-center justify-center text-current"),children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})})})});L.displayName=J.fC.displayName;let X=0,q=new Map,K=e=>{if(q.has(e))return;let t=setTimeout(()=>{q.delete(e),ea({type:"REMOVE_TOAST",toastId:e})},1e6);q.set(e,t)},Q=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?K(a):e.toasts.forEach(e=>{K(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},ee=[],et={toasts:[]};function ea(e){et=Q(et,e),ee.forEach(e=>{e(et)})}function es(e){let{...t}=e,a=(X=(X+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>ea({type:"DISMISS_TOAST",toastId:a});return ea({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>ea({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var en=a(44504);let er=en.zt,el=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(en.l_,{ref:t,className:d("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...n})});el.displayName=en.l_.displayName;let ei=(0,i.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eo=r.forwardRef((e,t)=>{let{className:a,variant:n,...r}=e;return(0,s.jsx)(en.fC,{ref:t,className:d(ei({variant:n}),a),...r})});eo.displayName=en.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(en.aU,{ref:t,className:d("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...n})}).displayName=en.aU.displayName;let ec=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(en.x8,{ref:t,className:d("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...n,children:(0,s.jsx)(T.Z,{className:"h-4 w-4"})})});ec.displayName=en.x8.displayName;let ed=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(en.Dx,{ref:t,className:d("text-sm font-semibold",a),...n})});ed.displayName=en.Dx.displayName;let em=r.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(en.dk,{ref:t,className:d("text-sm opacity-90",a),...n})});function eu(){let{toasts:e}=function(){let[e,t]=r.useState(et);return r.useEffect(()=>(ee.push(t),()=>{let e=ee.indexOf(t);e>-1&&ee.splice(e,1)}),[e]),{...e,toast:es,dismiss:e=>ea({type:"DISMISS_TOAST",toastId:e})}}();return(0,s.jsxs)(er,{children:[e.map(function(e){let{id:t,title:a,description:n,action:r,...l}=e;return(0,s.jsxs)(eo,{...l,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(ed,{children:a}),n&&(0,s.jsx)(em,{children:n})]}),r,(0,s.jsx)(ec,{})]},t)}),(0,s.jsx)(el,{})]})}em.displayName=en.dk.displayName;let ex=(0,n.default)(()=>Promise.all([a.e(448),a.e(928)]).then(a.bind(a,61928)),{loadableGenerated:{webpack:()=>[61928]},ssr:!1}),ef=[{name:"待機中",description:"自動販売機が待機状態にあり、お金の投入を待っています。",type:"type Waiting = { totalMoney: number; }",initialValue:"{ totalMoney: 0 }"},{name:"お金投入済み",description:"お金が投入され、商品選択を待っている状態です。",type:"type MoneyInserted = { totalMoney: number; }",initialValue:"{ totalMoney: 100 }"},{name:"商品選択済み",description:"商品が選択され、在庫確認中の状態です。",type:"type ProductSelected = { totalMoney: number; selectedProduct: string; }",initialValue:"{ totalMoney: 100, selectedProduct: 'コーラ' }"},{name:"商品出荷中",description:"選択された商品を出荷している状態です。",type:"type DispensingProduct = { totalMoney: number; selectedProduct: string; }",initialValue:"{ totalMoney: 100, selectedProduct: 'コーラ' }"}],ep=[{from:"待機中",to:"お金投入済み",label:"お金を入れる"},{from:"お金投入済み",to:"商品選択済み",label:"商品を選択"},{from:"商品選択済み",to:"商品出荷中",label:"在庫あり"},{from:"商品選択済み",to:"お金投入済み",label:"在庫なし"},{from:"商品出荷中",to:"待機中",label:"商品を取り出す"},{from:"お金投入済み",to:"待機中",label:"キャンセル"}],eh=[{name:"売上記録",description:"商品が出荷されたときに売上を記録します。",states:["商品出荷中"]}];function eg(){let[e,t]=(0,r.useState)("自動販売機ステートマシン"),[a,n]=(0,r.useState)("このステートマシンは、自動販売機の基本的な動作を表現しています。"),[l,i]=(0,r.useState)(ef),[o,c]=(0,r.useState)(ep),[d,m]=(0,r.useState)(eh),[f,p]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[_,T]=(0,r.useState)(""),[E,O]=(0,r.useState)(""),[J,X]=(0,r.useState)(""),[q,K]=(0,r.useState)(""),[Q,ee]=(0,r.useState)(""),[et,ea]=(0,r.useState)([]),[en,er]=(0,r.useState)(""),[el,ei]=(0,r.useState)(null),[eo,ec]=(0,r.useState)(null),[ed,em]=(0,r.useState)(null),[eg,ej]=(0,r.useState)(!1),[ev,eN]=(0,r.useState)(!1),[eb,ey]=(0,r.useState)(!1),[ew,eC]=(0,r.useState)(!1),[eS,ek]=(0,r.useState)(!1),[eR,eZ]=(0,r.useState)(!1),[e_,eT]=(0,r.useState)(""),[ez,eD]=(0,r.useState)(""),eE=(0,r.useRef)(null),eO=(0,r.useRef)(null);(0,r.useEffect)(()=>{er("\n      stateDiagram-v2\n      direction LR\n      ".concat(l.map(e=>"  ".concat(e.name,": ").concat(e.name,'<br><font size="2">').concat(e.description,"</font>")).join("\n"),"\n      ").concat(o.map(e=>{let{from:t,to:a,label:s}=e;return"  ".concat(t," --> ").concat(a,": ").concat(s)}).join("\n"),"\n    "))},[l,o]);let eV=()=>{p(""),j(""),N(""),S(""),ei(null),ej(!1)},eM=e=>{ei(e),p(e.name),j(e.description),N(e.type),S(e.initialValue),ej(!0)},eA=e=>{i(l.filter(t=>t.name!==e)),c(o.filter(t=>t.from!==e&&t.to!==e)),m(d.map(t=>({...t,states:t.states.filter(t=>t!==e)})))},eI=()=>{T(""),O(""),X(""),ec(null),eN(!1)},eF=e=>{ec(e),T(e.from),O(e.to),X(e.label),eN(!0)},eP=e=>{c(o.filter(t=>t!==e))},eU=()=>{K(""),ee(""),ea([]),em(null),ey(!1)},eG=e=>{em(e),K(e.name),ee(e.description),ea(e.states),ey(!0)},eY=e=>{m(d.filter(t=>t.name!==e))};return(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"ステートマシン設計ツール"}),(0,s.jsxs)(u,{onClick:()=>eZ(!0),variant:"outline",children:[(0,s.jsx)(G.Z,{className:"mr-2 h-4 w-4"}),"リセット"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)(h,{htmlFor:"stateMachineName",children:"ステートマシン名:"}),(0,s.jsx)(x,{id:"stateMachineName",value:e,onChange:e=>t(e.target.value),className:"mb-2"}),(0,s.jsx)(h,{htmlFor:"stateMachineDescription",children:"概要:"}),(0,s.jsx)(Z,{id:"stateMachineDescription",value:a,onChange:e=>n(e.target.value),className:"mb-2"})]}),(0,s.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,s.jsxs)(z,{open:eg,onOpenChange:ej,children:[(0,s.jsx)(D,{asChild:!0,children:(0,s.jsx)(u,{children:"状態を追加"})}),(0,s.jsxs)(V,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(M,{children:(0,s.jsx)(I,{children:el?"状態を編集":"状態を追加"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"name",className:"text-right",children:"名前"}),(0,s.jsx)(x,{id:"name",value:f,onChange:e=>p(e.target.value),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"description",className:"text-right",children:"説明"}),(0,s.jsx)(Z,{id:"description",value:g,onChange:e=>j(e.target.value),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"type",className:"text-right",children:"型"}),(0,s.jsxs)("div",{className:"col-span-3",children:[(0,s.jsx)(Z,{id:"type",value:v,onChange:e=>N(e.target.value),className:"mb-2",rows:4}),(0,s.jsx)(P.Z,{language:"typescript",style:U.Z,customStyle:{margin:0,padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem"},children:v})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"initialValue",className:"text-right",children:"初期値"}),(0,s.jsxs)("div",{className:"col-span-3",children:[(0,s.jsx)(x,{id:"initialValue",value:C,onChange:e=>S(e.target.value),className:"mb-2"}),(0,s.jsx)(P.Z,{language:"typescript",style:U.Z,customStyle:{margin:0,padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem"},children:C})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(u,{onClick:eV,variant:"outline",children:"キャンセル"}),(0,s.jsx)(u,{onClick:()=>{if(f){let e={name:f,description:g,type:v,initialValue:C};el?i(l.map(t=>t.name===el.name?e:t)):i([...l,e]),eV()}},children:el?"更新":"追加"})]})]})]}),(0,s.jsxs)(z,{open:ev,onOpenChange:eN,children:[(0,s.jsx)(D,{asChild:!0,children:(0,s.jsx)(u,{children:"遷移を追加"})}),(0,s.jsxs)(V,{className:"max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(M,{children:(0,s.jsx)(I,{children:eo?"遷移を編集":"遷移を追加"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"from",className:"text-right",children:"開始状態"}),(0,s.jsxs)(b,{onValueChange:T,value:_,children:[(0,s.jsx)(w,{className:"col-span-3",children:(0,s.jsx)(y,{placeholder:"開始状態を選択"})}),(0,s.jsx)(k,{children:l.map(e=>(0,s.jsx)(R,{value:e.name,children:e.name},"from-".concat(e.name)))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"to",className:"text-right",children:"終了状態"}),(0,s.jsxs)(b,{onValueChange:O,value:E,children:[(0,s.jsx)(w,{className:"col-span-3",children:(0,s.jsx)(y,{placeholder:"終了状態を選択"})}),(0,s.jsx)(k,{children:l.map(e=>(0,s.jsx)(R,{value:e.name,children:e.name},"to-".concat(e.name)))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"label",className:"text-right",children:"ラベル"}),(0,s.jsx)(x,{id:"label",value:J,onChange:e=>X(e.target.value),className:"col-span-3"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(u,{onClick:eI,variant:"outline",children:"キャンセル"}),(0,s.jsx)(u,{onClick:()=>{_&&E&&J&&(eo?c(o.map(e=>e===eo?{from:_,to:E,label:J}:e)):c([...o,{from:_,to:E,label:J}]),eI())},children:eo?"更新":"追加"})]})]})]}),(0,s.jsxs)(z,{open:eb,onOpenChange:ey,children:[(0,s.jsx)(D,{asChild:!0,children:(0,s.jsx)(u,{children:"副作用を追加"})}),(0,s.jsxs)(V,{className:"max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(M,{children:(0,s.jsx)(I,{children:ed?"副作用を編集":"副作用を追加"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"sideEffectName",className:"text-right",children:"名前"}),(0,s.jsx)(x,{id:"sideEffectName",value:q,onChange:e=>K(e.target.value),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(h,{htmlFor:"sideEffectDescription",className:"text-right",children:"説明"}),(0,s.jsx)(Z,{id:"sideEffectDescription",value:Q,onChange:e=>ee(e.target.value),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,s.jsx)(h,{className:"text-right pt-2",children:"適用される状態"}),(0,s.jsx)("div",{className:"col-span-3 space-y-2",children:l.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(L,{id:"state-".concat(e.name),checked:et.includes(e.name),onCheckedChange:t=>{t?ea([...et,e.name]):ea(et.filter(t=>t!==e.name))}}),(0,s.jsx)(h,{htmlFor:"state-".concat(e.name),children:e.name})]},e.name))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(u,{onClick:eU,variant:"outline",children:"キャンセル"}),(0,s.jsx)(u,{onClick:()=>{if(q&&Q&&et.length>0){let e={name:q,description:Q,states:et};ed?m(d.map(t=>t.name===ed.name?e:t)):m([...d,e]),eU()}},children:ed?"更新":"追加"})]})]})]}),(0,s.jsxs)(u,{onClick:()=>{eT("\n# ".concat(e,"\n\n").concat(a,"\n\n## 状態一覧\n\n").concat(l.map(e=>"\n### ".concat(e.name,"\n\n説明: ").concat(e.description,"\n\n型定義:\n```typescript\n").concat(e.type,"\n```\n\n初期値:\n```typescript\n").concat(e.initialValue,"\n```\n")).join("\n"),"\n\n## 遷移一覧\n\n").concat(o.map(e=>"\n- ".concat(e.from," -> ").concat(e.to,": ").concat(e.label,"\n")).join("\n"),"\n\n## 副作用一覧\n\n").concat(d.map(e=>"\n### ".concat(e.name,"\n\n説明: ").concat(e.description,"\n\n適用される状態:\n").concat(e.states.map(e=>"- ".concat(e)).join("\n"),"\n")).join("\n"),"\n\n## Mermaidダイアグラム\n\n```mermaid\n").concat(en,"\n```\n")),eC(!0)},variant:"outline",children:[(0,s.jsx)(Y.Z,{className:"mr-2 h-4 w-4"}),"仕様書を出力"]}),(0,s.jsxs)(u,{onClick:()=>{eD("\n以下の".concat(e,"の定義に基づいて、Reactのカスタムフックを作成してください。useReducerを使用して実装してください。\n\n").concat(a,"\n\n状態一覧:\n").concat(l.map(e=>"\n- ".concat(e.name,"\n  説明: ").concat(e.description,"\n  型定義:\n  ").concat(e.type,"\n  初期値: ").concat(e.initialValue,"\n")).join("\n"),"\n\n遷移一覧:\n").concat(o.map(e=>"\n- ".concat(e.from," -> ").concat(e.to,": ").concat(e.label,"\n")).join("\n"),"\n\n副作用一覧:\n").concat(d.map(e=>"\n- ".concat(e.name,"\n  説明: ").concat(e.description,"\n  適用される状態: ").concat(e.states.join(", "),"\n")).join("\n"),"\n\n要件:\n1. TypeScriptを使用してください。\n2. useReducerを使用して状態管理を行ってください。\n3. 状態の型定義を適切に行ってください。\n4. 各遷移に対応するアクションとリデューサーを作成してください。\n5. 現在の状態と、各遷移関数を返すカスタムフックを実装してください。\n6. 各副作用を、useEffectを使用して実装してください。適用される状態に応じて副作用を実行してください。\n7. 必要に応じて、状態変更時の副作用を考慮してください。\n\nこのステートマシンを実装するReactカスタムフックのコードを提供してください。\n")),ek(!0)},variant:"outline",children:[(0,s.jsx)(Y.Z,{className:"mr-2 h-4 w-4"}),"AIプロンプトを出力"]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"ステートマシン図:"}),(0,s.jsx)(ex,{code:en})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"状態一覧:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,s.jsxs)("div",{className:"border p-4 rounded relative",children:[(0,s.jsxs)("div",{className:"pr-16",children:[(0,s.jsx)("h3",{className:"font-bold",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,s.jsx)(P.Z,{language:"typescript",style:U.Z,children:e.type}),(0,s.jsx)("p",{className:"text-sm",children:(0,s.jsx)("strong",{children:"初期値:"})}),(0,s.jsx)(P.Z,{language:"typescript",style:U.Z,children:e.initialValue})]}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eM(e),"aria-label":"Edit ".concat(e.name),children:(0,s.jsx)(H.Z,{className:"h-4 w-4"})}),(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eA(e.name),"aria-label":"Delete ".concat(e.name),children:(0,s.jsx)($.Z,{className:"h-4 w-4"})})]})]},e.name))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"遷移一覧:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((e,t)=>(0,s.jsxs)("div",{className:"border p-4 rounded relative",children:[(0,s.jsxs)("div",{className:"pr-16",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:e.from}),(0,s.jsx)(B.Z,{className:"h-4 w-4 mx-2"}),(0,s.jsx)("span",{children:e.to})]}),(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("strong",{children:"ラベル:"})," ",e.label]})]}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eF(e),"aria-label":"Edit transition from ".concat(e.from," to ").concat(e.to),children:(0,s.jsx)(H.Z,{className:"h-4 w-4"})}),(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eP(e),"aria-label":"Delete transition from ".concat(e.from," to ").concat(e.to),children:(0,s.jsx)($.Z,{className:"h-4 w-4"})})]})]},t))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"副作用一覧:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((e,t)=>(0,s.jsxs)("div",{className:"border p-4 rounded relative",children:[(0,s.jsxs)("div",{className:"pr-16",children:[(0,s.jsx)("h3",{className:"font-bold",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,s.jsx)("p",{className:"text-sm mt-2",children:(0,s.jsx)("strong",{children:"適用される状態:"})}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:e.states.map((e,t)=>(0,s.jsx)("li",{className:"text-sm",children:e},t))})]}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:[(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eG(e),"aria-label":"Edit ".concat(e.name),children:(0,s.jsx)(H.Z,{className:"h-4 w-4"})}),(0,s.jsx)(u,{size:"icon",variant:"ghost",onClick:()=>eY(e.name),"aria-label":"Delete ".concat(e.name),children:(0,s.jsx)($.Z,{className:"h-4 w-4"})})]})]},t))})]}),(0,s.jsx)(z,{open:ew,onOpenChange:eC,children:(0,s.jsxs)(V,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(M,{children:(0,s.jsx)(I,{children:"ステートマシン仕様書"})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(Z,{ref:eE,value:e_,readOnly:!0,className:"w-full h-[60vh] font-mono text-sm"})}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsxs)(u,{onClick:()=>{eE.current&&(eE.current.select(),document.execCommand("copy"),es({title:"コピーしました",description:"仕様書がクリップボードにコピーされました。"}))},children:[(0,s.jsx)(W.Z,{className:"mr-2 h-4 w-4"}),"コピー"]})})]})}),(0,s.jsx)(z,{open:eS,onOpenChange:ek,children:(0,s.jsxs)(V,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(M,{children:(0,s.jsx)(I,{children:"AIプロンプト"})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(Z,{ref:eO,value:ez,readOnly:!0,className:"w-full h-[60vh] font-mono text-sm"})}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsxs)(u,{onClick:()=>{eO.current&&(eO.current.select(),document.execCommand("copy"),es({title:"コピーしました",description:"AIプロンプトがクリップボードにコピーされました。"}))},children:[(0,s.jsx)(W.Z,{className:"mr-2 h-4 w-4"}),"コピー"]})})]})}),(0,s.jsx)(z,{open:eR,onOpenChange:eZ,children:(0,s.jsxs)(V,{children:[(0,s.jsxs)(M,{children:[(0,s.jsx)(I,{children:"リセット確認"}),(0,s.jsx)(F,{children:"全ての内容を初期状態に戻しますか？この操作は取り消せません。"})]}),(0,s.jsxs)(A,{children:[(0,s.jsx)(u,{onClick:()=>eZ(!1),variant:"outline",children:"キャンセル"}),(0,s.jsx)(u,{onClick:()=>{t(""),n(""),i([]),c([]),m([]),eZ(!1),es({title:"リセットしました",description:"ステートマシンが初期状態に戻されました。"})},variant:"destructive",children:"リセット"})]})]})}),(0,s.jsx)("div",{className:"w-full flex",children:(0,s.jsx)("span",{className:"ml-auto text-[12px]",children:"made by tkcel(with v0.dev)"})}),(0,s.jsx)(eu,{})]})}}},function(e){e.O(0,[966,971,23,744],function(){return e(e.s=41855)}),_N_E=e.O()}]);